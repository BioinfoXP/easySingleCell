% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/GEO_Index.R
\name{GEO_Screen_AI}
\alias{GEO_Screen_AI}
\title{AI-Powered GEO Dataset Screener (Pure AI Edition)}
\usage{
GEO_Screen_AI(
  input_data,
  disease = NULL,
  data_type = NULL,
  target_species = NULL,
  other_req = NULL,
  batch_size = 500,
  api_key = NULL,
  model = "gpt-5-nano",
  base_url = "https://api.gpt.ge/v1",
  verbose = TRUE
)
}
\arguments{
\item{input_data}{Data.frame. The metadata table. See "Input Data Requirements".}

\item{disease}{String. Disease criterion (e.g. "胰腺癌"). AI checks \code{disease_type} or Description.}

\item{data_type}{String. Sequencing type (e.g. "空间转录组"). AI checks \code{AI_SeqType} or Platform.}

\item{target_species}{String. Species criterion. AI checks \code{species} column.}

\item{other_req}{String. Any additional requirements (e.g., "Exclude cell lines").}

\item{batch_size}{Numeric. Rows per AI call (Default 500).}

\item{api_key}{OpenAI API Key.}

\item{model}{LLM model (default "gpt-5-nano").}

\item{base_url}{API Base URL.}

\item{verbose}{Print debug info.}
}
\value{
A filtered, sorted, and deduplicated data.frame.
}
\description{
Rely exclusively on LLM to screen datasets based on semantic understanding.
No regex/keyword matching is used. The AI reads every row's context (Disease, Type, Species, Description).
Supports unlimited rows via automatic batch processing.
}
\section{Input Data Requirements}{

The \code{input_data} must be a \strong{data.frame} or \strong{tibble}.
While the function attempts to auto-detect columns, for best results, your table should contain:
\itemize{
\item \strong{ID Column}: Unique identifier (e.g., named "GSE", "Accession", "dataset_id").
\item \strong{Description Column}: Text describing the study (e.g., named "Title", "Summary", "Description", "experimental_design").
\item \strong{Context Columns (Recommended)}:
\itemize{
\item "Species" or "Organism" (e.g., "Homo sapiens").
\item "Platform" or "GPL" (e.g., "GPL570").
\item "AI_SeqType" or "DataType" (e.g., "scRNA-seq", generated by \code{GEO_Classify_AI}).
\item "disease_type" (e.g., "Liver Cancer").
}
\item \strong{Sample Size}: Numeric or string (e.g., "Sample_Count", "N", "sample_size") for sorting.
}
}

\examples{
\dontrun{
  # ========================================================
  # 1. 构造模拟数据 (Mock Data)
  # ========================================================
  # 假设这是您通过 GEO_Classify_AI 处理后的数据
  mock_df <- data.frame(
    dataset_id = c("GSE001", "GSE002", "GSE003", "GSE004"),
    species = c("Homo sapiens", "Mus musculus", "Homo sapiens", "Homo sapiens"),
    AI_SeqType = c("scRNA-seq", "Bulk RNA-seq", "stRNA-seq", "Microarray"),
    disease_type = c("Pancreatic Cancer", "Liver Cancer", "胰腺导管腺癌", "Lung Cancer"),
    sample_size = c(10, 50, 5, 100),
    experimental_design = c(
      "Single cell analysis of 10 PDAC patients.",
      "Bulk RNA-seq of mouse liver tumor models.",
      "Visium spatial transcriptomics of pancreatic tumor sections.",
      "Gene expression profiling of lung cancer cell lines."
    )
  )

  # ========================================================
  # 2. 基础筛选: 找 "胰腺癌" 的 "单细胞" 数据
  # ========================================================
  # 即使输入中文 "胰腺癌"，AI 也能匹配 "Pancreatic Cancer"
  res1 <- GEO_Screen_AI(
    input_data = mock_df,
    disease = "胰腺癌",
    data_type = "scRNA-seq",
    api_key = "sk-xxxxxx"
  )
  # 预期结果: 选中 GSE001

  # ========================================================
  # 3. 跨语言语义筛选: 找 "空间转录组"
  # ========================================================
  # 输入 "空间转录组"，AI 能匹配 "stRNA-seq" 或 "Visium"
  # 且能识别 "胰腺导管腺癌" 属于 "Pancreatic Cancer" 范畴
  res2 <- GEO_Screen_AI(
    input_data = mock_df,
    disease = "Pancreatic Cancer",
    data_type = "空间转录组",
    api_key = "sk-xxxxxx"
  )
  # 预期结果: 选中 GSE003

  # ========================================================
  # 4. 复杂逻辑: 排除细胞系
  # ========================================================
  res3 <- GEO_Screen_AI(
    input_data = mock_df,
    other_req = "Exclude cell lines",
    api_key = "sk-xxxxxx"
  )
  # 预期结果: 排除 GSE004
}
}
